---
const base = import.meta.env.BASE_URL;
---

<div id="cookie-banner" class="fixed bottom-0 left-0 right-0 z-[9999] hidden">
    <div class="bg-[#0a192f] border-t border-white/10 px-6 py-5 shadow-2xl">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-6 justify-between">
            <div class="flex items-start gap-4 flex-1">
                <span class="text-2xl mt-0.5 flex-shrink-0">üç™</span>
                <p class="text-gray-300 text-sm leading-relaxed">
                    Utilizamos cookies de an√°lisis (Google Analytics) para entender c√≥mo se usa nuestra web y mejorarla. 
                    No recopilamos datos personales identificables.
                    <a href={`${base}politica-cookies`} class="text-[#a6192e] hover:underline font-bold ml-1">Pol√≠tica de cookies</a>
                </p>
            </div>
            <div class="flex gap-3 flex-shrink-0">
                <button id="cookie-reject" class="px-5 py-2.5 rounded text-[11px] font-bold uppercase tracking-widest text-gray-400 border border-white/10 hover:border-white/30 hover:text-white transition-all">
                    Rechazar
                </button>
                <button id="cookie-accept" class="px-6 py-2.5 rounded text-[11px] font-bold uppercase tracking-widest bg-[#a6192e] hover:bg-red-700 text-white transition-all shadow-lg">
                    Aceptar
                </button>
            </div>
        </div>
    </div>
</div>

<script is:inline>
  (function() {
    var banner = document.getElementById('cookie-banner');
    var consent = localStorage.getItem('sermont_cookies');

    if (!consent) {
      banner.style.display = 'block';
    }

    document.getElementById('cookie-accept').addEventListener('click', function() {
      localStorage.setItem('sermont_cookies', 'accepted');
      banner.style.display = 'none';
      if (typeof window.loadGA === 'function') window.loadGA();
    });

    document.getElementById('cookie-reject').addEventListener('click', function() {
      localStorage.setItem('sermont_cookies', 'rejected');
      banner.style.display = 'none';
    });
  })();
</script>
